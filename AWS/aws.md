# Production Sever

프로덕트 관점에서 고민하세요

개발이나 테스트 목적이 아닌 실제 사용자?

## 운영서버의 아키텍쳐

### 1. 단일 서버 구조 :

가장 단순하면서 기본적이고 구축하기 간단한 서버 구조

단점 : 전체 서비스의 장애 발생 가능성 높음
어느 한곳에서 문제가 생기면 클라이언트 서버와 백엔드 서버에도 문제가 생긴다.
서버 자원을 효율적으로 사용하기 어렵다.
보안성이 떨어진다.
단일 서버로 여러명의 클라이언트의 요청을 받게되면 확장방식이 어려워진다.

보다 나은 구조

## 2. 애플리케이션과 데이터 베이스 서버 분리 구조

application db를 각각의 서버로 분리
단일 서버 구조의 단점을 어느정도는 해소
하나의 서버가 아니라 구성이 다소 복잡
application 과 db 서버 사이의 지연시간과 네트워크 보안 고려
확장은 여전히 어려움

## 3. 서버 단위의 로드 밸런서 구조

클라이언트에게 여러곳에서 동시다발적으로
트래픽을 어느 한 서버에만 주는게 아니라 트래픽을 여러곳으로 분산
확장에 용이하여 하나의 서버에 장애가 발생시 정상 서버에 요청을 넘긴다.
서비스 장애 최소화.
단, 구성이 복잡해진다.-> 로드 밸런서 서버 문제시 뒤에 서버들 전부 문제 생김.

## 4. 서버 내 앱 단위의 로드 밸런서 구조

여러개의 서버 사이에 로드밸런서가 있고

서버내에 앱단위의 로드 밸런서가 추가되ㅏㄴ 구조
하나의 서버에서 여러 요청을 동시에 처리
서버 자원을 최대한으로 효율적으로 사용
단, 로드 밸런서 서버에 문제가 생기면 전부 문제가 생긴다.
그래서 서브 개념으로 로드 밸런서를 하나 더 둔다.

---

# 온프레미스?

## it 서비스를 기업이 자체적으로 보유한 물리적인 서버에 직접 설치 및 운영하는 방식

### 온프레미스 특징

인프라를 물리적으로 직접 구축하여 운영하는 방식
-> 카카오
서비스에 필요한 시스템을 구축하기 위해서 기업이 직접 구성에 맞게 하드웨어를 구입하거나 대여해야 함
필요한 자원을 예측하여 물리적인 구성을 설계하는데, 예측과 실제가 달라서 이로 인해 불필요한 비용이 지출될 수 있음.

서버 확장이 필요할 때 여러 제약 사항이 많음
천재 지변에 대응하기 어렵다.

# 클라우드 컴퓨팅

## compute?

### cpu ram storage network기능으로 구성된 물리적인

it 리소스를 인터넷을 통해 on-demand로 제공하고 사용한 만큼만 비용을 지불한다.

클라우드 컴퓨팅의 특징
요청하는 즉시 인터넷을 통해 온디맨드로 컴퓨팅 자원 제공
원하는 시간동안 원하는 만큼만 컴퓨팅 자원을 언제 어디서나 이용 가능, 사용한 만큼만 비용 지불
scale-up scale-out 이 자유롭게 가능
서비스에 따라 리소스 타입 변경 또는 사이즈 확장 축소가 ㄹ필요할때 손쉽게 컨트롤
다양한 리전을 통한 글로벌 확장이 용이
downtime이 적은 고가용성(High-availability)을 보장
기존 보다 더 간편하게 서버, 스토리지, db에 접근 가능한 솔루션을 제공

aws elastic compute cloud (ec2)

---

# Amazon Web Services

EC2
Elastic Compute Cloud
단순 클릭 몇번을 통해 쉽게 원하는 리소스를 고르고 이를

RDS
relational Database Service
데이터 베이스를 설치, 운영 및 확장 할 수 있는 서비사
백업과 같은 소프트웨어 유지 보수를 위한 관리 테스크를 제거하여 효율적인 운용 가능
다양한 RDBMS제공

S3
simple storage service
회사들이 사용하는 이유 : 파일 그대로 저장하면 용량이 너무 높다.
s3에 이미지나 파일을 올리면 고유의 url을 주고 url만 렌더링 할 수 있다.

VPC
virtual private cloud
클라우드 환경을 독립된 네트워크 환경으로 구성할 수 있게 도와주는 서비스.
사용자가 네트워크 환경 설정에 대한 완전한 통제권을 가질 수 있다.

Cloud Front
데이터 복사본을 임시로 저장하느 프로세스인 캐싱을 통해 사용자에게 빠르게 컨텐츠를 제공
은행 가지 않고 atm에서 돈찾는 원리처럼 생각

Route 53
DNS서비스
사람이 읽을 수 있는 도메인 이름(www.amazon.com)을 기계가 읽을 수 있는 ip주소(192.0.2.44) 로 변환
가용성과 확장성이 뛰어나며 aws 내의 다른 서비스들과의 호환성도 뛰어남.

ELB
elastic Load Balancer
로드 밸런서?
-> 서버로 들어오는 높은 트래픽을 여러고스로 적절하게 자동으로 분산시켜주며 안정적으로 서버 운영을 도와줌
다양한 보안 옵션을 제공하며, 애플리케이션 서버의 사용률에 따라 자동으로 추가 혹은 제거되는 고가용성 및 탄력성
모니터링 로깅

IAM
IAM 은 aws의 리소스에 대해 개별적으로 접근 제어를 하거나 구너한을 가지도록 계정 또는 그룹을 생성 및 관리하는 서비스
aws에서는 관리와 같은 일상적인 작업조차도 루트 계정으로 하지 않는 것을 권장
iam 계정이 없다면 aws루트 계정 자체가 모든 서비스에 대한 권한이 있기에 보안상 매우 취약하기 때문
iam 계정을 생성해서 각각 필요한 권한만 갖도록 설정하고 각 access key를 개별적으로 관리하며 보안성을 높임
